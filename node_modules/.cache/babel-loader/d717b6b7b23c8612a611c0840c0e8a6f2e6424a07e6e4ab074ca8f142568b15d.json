{"ast":null,"code":"import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getArrSlider}from\"../ultis/fn\";import*as actions from'../store/actions';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var Slider=function Slider(){var _useSelector=useSelector(function(state){return state.app;}),banner=_useSelector.banner;var dispatch=useDispatch();var Navigate=useNavigate();useEffect(function(){var sliderEls=document.getElementsByClassName(\"slider-app\");var sttStart=0;var sttEnd=2;var intervalId=setInterval(function(){var list=getArrSlider(sttStart,sttEnd,sliderEls.length-1);var _loop=function _loop(i){var _sliderEls$i$classLis,_sliderEls$i$classLis2,_sliderEls$i$classLis3;//delete classname\n(_sliderEls$i$classLis=sliderEls[i].classList)===null||_sliderEls$i$classLis===void 0?void 0:_sliderEls$i$classLis.remove(\"animate-slide-right\",\"order-last\");(_sliderEls$i$classLis2=sliderEls[i].classList)===null||_sliderEls$i$classLis2===void 0?void 0:_sliderEls$i$classLis2.remove(\"animate-slide-left\",\"order-first\");(_sliderEls$i$classLis3=sliderEls[i].classList)===null||_sliderEls$i$classLis3===void 0?void 0:_sliderEls$i$classLis3.remove(\"animate-slide-left2\",\"order-2\");if(list.some(function(item){return item===i;})){sliderEls[i].style.cssText=\"display: block\";}else{sliderEls[i].style.cssText=\"display: none\";}};for(var i=0;i<sliderEls.length;i++){_loop(i);}list===null||list===void 0?void 0:list.forEach(function(item){if(item===sttEnd){sliderEls[item].classList.add(\"animate-slide-right\",\"order-last\");}else if(item===sttStart){var _sliderEls$item;(_sliderEls$item=sliderEls[item])===null||_sliderEls$item===void 0?void 0:_sliderEls$item.classList.add(\"animate-slide-left\",\"order-first\");}else{var _sliderEls$item2;(_sliderEls$item2=sliderEls[item])===null||_sliderEls$item2===void 0?void 0:_sliderEls$item2.classList.add(\"animate-slide-left2\",\"order-2\");}});sttStart=sttStart===sliderEls.length-1?sttStart=0:sttStart+=1;sttEnd=sttEnd===sliderEls.length-1?sttEnd=0:sttEnd+=1;},4000);return function(){intervalId&&clearInterval(intervalId);};},[]);var handleClickBanner=function handleClickBanner(item){if((item===null||item===void 0?void 0:item.type)===1){dispatch(actions.setCurSongId(item.encodeId));dispatch(actions.isPlay(true));dispatch(actions.playAlbum(null));}if((item===null||item===void 0?void 0:item.type)===4){var _item$link;var albumPath=item===null||item===void 0?void 0:(_item$link=item.link)===null||_item$link===void 0?void 0:_item$link.split('.')[0];Navigate(albumPath);}else{dispatch(actions.playAlbum(null));}};return/*#__PURE__*/_jsx(\"div\",{className:\" overflow-hidden w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full gap-4 p-8 justify-center \",children:banner===null||banner===void 0?void 0:banner.map(function(item,index){return/*#__PURE__*/_jsx(\"img\",{src:item.banner,onClick:function onClick(){return handleClickBanner(item);},className:\"slider-app w-[32%] object-contain rounded-lg cursor-pointer \".concat(index<=2?\"block\":\"hidden\"),alt:\"slider\"},item.encodeId);})})});};export default Slider;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","getArrSlider","actions","useNavigate","jsx","_jsx","Slider","_useSelector","state","app","banner","dispatch","Navigate","sliderEls","document","getElementsByClassName","sttStart","sttEnd","intervalId","setInterval","list","length","_loop","i","_sliderEls$i$classLis","_sliderEls$i$classLis2","_sliderEls$i$classLis3","classList","remove","some","item","style","cssText","forEach","add","_sliderEls$item","_sliderEls$item2","clearInterval","handleClickBanner","type","setCurSongId","encodeId","isPlay","playAlbum","_item$link","albumPath","link","split","className","children","map","index","src","onClick","concat","alt"],"sources":["G:/Website/zingmp3/src/components/slider.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getArrSlider } from \"../ultis/fn\";\r\nimport * as actions from '../store/actions'\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Slider = () => {\r\n  const { banner } = useSelector((state) => state.app);\r\n  const dispatch = useDispatch();\r\n  const Navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const sliderEls = document.getElementsByClassName(\"slider-app\");\r\n    let sttStart = 0;\r\n    let sttEnd = 2;\r\n    const intervalId = setInterval(() => {\r\n      const list = getArrSlider(sttStart, sttEnd, sliderEls.length - 1);\r\n      for (let i = 0; i < sliderEls.length; i++) {\r\n        //delete classname\r\n        sliderEls[i].classList?.remove(\r\n          \"animate-slide-right\",\r\n          \"order-last\",\r\n          \r\n        );\r\n        sliderEls[i].classList?.remove(\r\n          \"animate-slide-left\",\r\n          \"order-first\",\r\n          \r\n        );\r\n        sliderEls[i].classList?.remove(\"animate-slide-left2\", \"order-2\", );\r\n\r\n        if (list.some((item) => item === i)) {\r\n          sliderEls[i].style.cssText = `display: block`;\r\n        } else {\r\n          sliderEls[i].style.cssText = `display: none`;\r\n        }\r\n      }\r\n      list?.forEach((item) => {\r\n        if (item === sttEnd) {\r\n          sliderEls[item].classList.add(\r\n            \"animate-slide-right\",\r\n            \"order-last\",\r\n            \r\n          );\r\n        } else if (item === sttStart) {\r\n          sliderEls[item]?.classList.add(\r\n            \"animate-slide-left\",\r\n            \"order-first\",\r\n            \r\n          );\r\n        } else {\r\n          sliderEls[item]?.classList.add(\r\n            \"animate-slide-left2\",\r\n            \"order-2\",\r\n            \r\n          );\r\n        }\r\n      });\r\n      sttStart =\r\n        sttStart === sliderEls.length - 1 ? (sttStart = 0) : (sttStart += 1);\r\n      sttEnd = sttEnd === sliderEls.length - 1 ? (sttEnd = 0) : (sttEnd += 1);\r\n    }, 4000);\r\n\r\n    return () => {\r\n      intervalId && clearInterval(intervalId);\r\n    };\r\n  }, []);\r\n\r\n  const handleClickBanner = (item) => {\r\n    if (item?.type === 1) {\r\n      dispatch(actions.setCurSongId(item.encodeId))\r\n      dispatch(actions.isPlay(true))\r\n      dispatch(actions.playAlbum(null))\r\n\r\n    }\r\n    if(item?.type === 4) {\r\n      const albumPath = item?.link?.split('.')[0]\r\n      Navigate(albumPath)\r\n      \r\n    }else{\r\n      dispatch(actions.playAlbum(null))\r\n    }\r\n  };\r\n  return (\r\n    <div className=\" overflow-hidden w-full\">\r\n      <div className=\"flex w-full gap-4 p-8 justify-center \">\r\n        {banner?.map((item, index) => (\r\n          <img\r\n            src={item.banner}\r\n            onClick={() => handleClickBanner(item)}\r\n            className={`slider-app w-[32%] object-contain rounded-lg cursor-pointer ${\r\n              index <= 2 ? \"block\" : \"hidden\"\r\n            }`}\r\n            alt=\"slider\"\r\n            key={item.encodeId}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Slider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}